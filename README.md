# Grafana + Promtail + .NET Logging Demo

This is a demo project that shows how to send logs from a custom .NET Core application to Grafana using Promtail and Loki. All components are containerized using Docker Compose.

---

## ðŸ“¦ Project Structure

```
grafana-dotnet-logging/
â”œâ”€â”€ dotnet-app/
â”‚   â”œâ”€â”€ Program.cs              # Writes logs to app.log
â”‚   â”œâ”€â”€ LoggingDemo.csproj      # .NET 8 project
â”‚   â”œâ”€â”€ Dockerfile              # Containerizes the app
â”‚   â””â”€â”€ logs/                   # Output log file directory (bind-mounted)
â”œâ”€â”€ promtail-config.yaml        # Promtail config for scraping app.log
â”œâ”€â”€ docker-compose.yml          # Defines Loki, Grafana, Promtail services
â””â”€â”€ README.md
```

---

## ðŸš€ How to Run

```bash
# Build the .NET logging app
cd dotnet-app
docker build -t dotnet-log .

# Run the logging app (this writes logs into logs/app.log)
docker run --rm -v $(pwd)/logs:/app/logs dotnet-log

# Start Grafana, Loki and Promtail
cd ..
docker-compose up --build
```

---

## ðŸ”Ž View Logs in Grafana

1. Access Grafana: [http://localhost:3000](http://localhost:3000)
   - Username: `admin`, Password: `admin`
2. Add Loki as a data source if not added automatically:
   - Data Sources â†’ Add â†’ Loki â†’ URL: `http://loki:3100`
3. Go to **Explore**
4. Use query:
   ```logql
   {job="dotnet-app"}
   ```

You should see the logs generated by the .NET app.

---


## ðŸ“š Related Tools

| Tool       | Purpose                    |
|------------|----------------------------|
| Grafana    | Visualization dashboards   |
| Loki       | Log storage (time-series)  |
| Promtail   | Log shipper to Loki        |
| .NET       | Custom log-producing app   |

---
